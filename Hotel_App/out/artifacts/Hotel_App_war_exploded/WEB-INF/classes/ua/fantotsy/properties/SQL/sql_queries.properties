#DAOApartment SQLs
get_numbers_of_apartments_grouped_by_categories = SELECT COUNT(apartment_id) AS number_of_apartments, category_id  FROM apartments GROUP BY category_id
add_apartment = INSERT INTO apartments (apartment_id, category_id) VALUES (?, ?)
remove_apartment = DELETE FROM apartments WHERE apartment_id = ?
get_available_apartments = SELECT categories.category_id, apartment_id FROM apartments JOIN categories ON categories.category_id = apartments.category_id WHERE apartment_id IN (SELECT apartment_id FROM apartments WHERE apartment_id NOT IN (SELECT apartment_id FROM reservations WHERE(arrival <= ? AND departure >= ?) OR (arrival <= ? AND departure >= ?))) AND type=? AND number_of_beds=?
get_all_apartment_numbers = SELECT apartment_id, category_id FROM apartments

#DAOCategory SQLs
get_all_categories = SELECT categories.category_id, type, number_of_beds, price, COUNT(apartment_id) AS apartments FROM categories LEFT JOIN apartments ON categories.category_id = apartments.category_id GROUP BY categories.category_id
get_all_available_apartments_for_guest = SELECT categories.category_id, type, number_of_beds, price, COUNT(apartment_id) AS apartments FROM apartments JOIN categories ON apartments.category_id = categories.category_id WHERE apartment_id IN (SELECT apartment_id FROM apartments WHERE apartment_id NOT IN (SELECT apartment_id FROM reservations WHERE (arrival <= ? AND departure >= ?) OR (arrival <= ? AND departure >= ?))) AND categories.type=? AND categories.number_of_beds=? GROUP BY category_id
get_all_types = SELECT type FROM categories GROUP BY type
get_all_capacities = SELECT number_of_beds FROM categories GROUP BY number_of_beds

#DAOGuest SQLs
get_certain_login = SELECT login FROM guests WHERE login=?
get_certain_login_and_password = SELECT login, password FROM guests WHERE login=? AND password=?
add_new_guest = INSERT INTO guests (name, last_name, phone_number, email, login, password) VALUES (?, ?, ?, ?, ?, ?)
get_certain_guest = SELECT * FROM guests WHERE login=?
get_all_guests = SELECT name, last_name, phone_number, email, login FROM guests

#DAOReservation SQLs
add_new_reservation = INSERT INTO reservations (guest_id, apartment_id, arrival, departure, total_price) VALUES (?, ?, ?, ?, (SELECT total_price FROM (SELECT (SELECT TIMESTAMPDIFF(DAY, ?, ?) AS duration) * (SELECT price FROM categories JOIN apartments ON categories.category_id = apartments.category_id WHERE apartment_id=?) AS total_price)T))
get_all_reservations = SELECT apartment_id, arrival, departure, total_price, name, last_name, phone_number, email, login FROM reservations JOIN guests ON guests.guest_id = reservations.guest_id
get_all_reservations_for_certain_guest = SELECT reservation_id, reservations.apartment_id, arrival, departure, total_price, T.type, T.number_of_beds FROM reservations JOIN (SELECT categories.category_id, type, number_of_beds, apartment_id FROM categories JOIN apartments ON categories.category_id = apartments.category_id)T ON reservations.apartment_id = T.apartment_id WHERE guest_id = ?
remove_reservation = DELETE FROM reservations WHERE reservation_id = ?